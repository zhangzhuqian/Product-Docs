# 确定进展



## UI支持 zhangzhuqian  

## 数据库支持	suixin

## 错误码规范   开发协调

## 开发者帐号 zhangzhuqian

## 短信协调	 老段

## iOS

* 登录注册   完成 稍后第三方接入   走接口？目前开发暂停 双方调试接口
* 单位     
  * 三色预警     
  * 学习
  * 检查
  * 疏散
  * 运营位
* 建筑
  * 三色预警
  * 等级商家展示
  * 保险入口
  * 反馈
  * 排行榜
* 发现
  * 公告
  * 意见反馈
  * 保险入口
* 我的   主界面完成   
  * 个人信息
  * 保险查询
  * 系统设置
  * 清理缓存
  * 升级

## 后端   调接口

## 请求 token  suixin

下发 token

## 登录注册

### 第三方验证码

- 短信验证码接口
  - 参数 
    - 手机号
  - 返回值 
    - 发送成功
    - 发送失败

### 注册

- 用户注册接口
  - 参数
    - 手机号
    - 短信验证码
    - 密码
    - 邀请码（可选）
  - 返回值
    - 注册成功
      - uid
    - 注册失败
      - 短信验证码错误
      - 邀请码错误（可选）
- 单位信息接口
  - 参数
    - 建筑
    - 单位
    - 区域（可选）
    - 楼层
  - 返回值
    - 建筑 id
    - 单位 id

### 登录

- 验证码登录
  - 参数
    - 手机号
    - 验证码
  - 返回值
    - 登录成功
      - 下发 uid
    - 登录失败
- 密码登录
  - 参数
    - 手机号
    - 密码
  - 返回值
    - 登录成功
      - 下发 uid
    - 登录失败

## 单位

- 三色预警 目前直接求平均值
  - 参数
    - 知识水平：当前单位所有员工的学习平均成绩
    - 疏散逃生：半年内完成疏散的人数占比 
    - 参与人数：单位参与人数占比
    - 设施设备：设施设备当月的检查频次占比
    - 行政审批：是否有行政审批材料
    - 管理行为：反馈处理的及时程度
  - 返回值
    - 三色预警分数
    - 评估时间
- 学习题目
  - 参数
    - uid
  - 返回值
    - 十道学习题目
    - 正确答案序列
    - 题目解析


- 学习成绩
  - 参数
    - 学习完成日期和时间
    - 完成花费时间
    - 答题选项
    - uid
    - 题目序列
  - 返回值
    - 答题分数
    - 积分
- 学习解析
  - 参数
    - 题目序列


- 返回值
  - 解析

### 未完成

- 检查
  - 参数
    - 设备识别码
  - 返回值
    - 设备库
      - 不存在
      - 存在
        - 设备检查信息
- 添加设备信息
  - 参数
    - 二维码值
    - 类型
    - 建筑
    - 所在商户
    - 所在区域


- 返回值
  - 设备ID



- 完成检查要求
  - 参数
    - 设备ID
    - 使用满足需求置0或1   选择置1
  - 返回值
    - code 录入设备
- 反馈
  - 参数
    - 图片url
    - 描述
    - 用户id


- 返回值
  - 成功码



- 运营位
  - 参数
    - uid
    - 日期


- 返回值
  - 运营位信息







### 建筑

- 建筑安全指数

  - 参数
    - 建筑id
    - 当前时间
  - 返回值
    - 此前6个月的建筑安全指数

- 三色安全指数企业

  - 参数

    - 建筑id
    - 红黄蓝参数

  - 返回值

    - 红蓝绿单位列表

      ​







