# 用户登录注册

## 用户注册

* 手机号合法性判定
* 点击注册
  * 点击注册进行验证码判定和密码判定，密码需要8位以上
    * 验证通过，发送服务器请求，信息包含手机号，密码
      * 服务器下发 uid，并记录在本地，注册成功
      * 服务器未下发，则注册未成功，当前页面提示用户网络不佳
    * 验证不通过，当前页面提示用户错误，并提示错误处
      * 验证码错误
      * 密码小于8位
* 单位资料填写
  * 入口:注册成功之后进入单位资料填写页面
  * 建筑物以及单位提供 sug 协助 前期为BD线下推广指定商厦，提供sug支持
    * 版本1.0中采用checkbox,提供List 内容包括华联商厦,腾讯众创空间,
  * 完成填写之后，上传服务器，包含建筑物名称，楼层，区域（可置空）和单位名称，服务器下发单位 ID，建筑ID,记录在本地
  * 本地没有单位 ID 和 uid 无法进入主页。
* 邀请码规则：用户输入邀请码之后，需要进行邀请码 check，如果数据库没有该邀请码。当前页面提示用户邀请码不存在
* 第三方登录  版本1.0不上线
  * 后台有与第三方匹配的用户，直接登录
  * 没有匹配用户，走注册流程


## 用户登录

	用户使用手机号进行登录注册，用户输入手机号,进行手机号合法性判定。点击登录时验证手机号和验证码是否匹配
* 手机号合法性原则：正则表达式判定 支持虚拟手机号
  * 手机不合法，获取验证码置灰
  * 手机合法，获取验证码可点击
* 是否注册
  * 已经注册，直接进入 APP
  * 未被注册，
    * 走注册流程  设置密码 
    * 单位信息填写页面
    * 服务器下发uid和单位id


* 验证码 点击登录之后进行验证码验证
  * 验证码错误，当前页面提醒用户验证码错误
  * 携带 token请求 @隋鑫


* 密码登录

  * 进行手机号合法性判定，避免恶意登录
  * 密码错误，当前页面提示用户，三次错误，提醒用户找回密码或者验证码登录
* 找回密码
  * 手机和验证码验证
  * 重新设置密码
    * 输入密码
    * 再次输入密码
  * 重新登录
* 登录完成
  * 服务器下发 uid 和 uid 绑定的单位 ID,建筑ID

